2021 © Перевод [AEKALLY](aek.ally@outlook.com)
       Без оборота на меня Without backing up to me

# Code - OSS.
# Контейнер разработки.

Этот хранилище включает конфигурацию для контейнера разработки для работы с Code - OSS в локальном контейнере или с использованием [Кодовых пространств GitHub](https://github.com/features/codespaces).

> **Совет:** Пароль VNC по умолчанию - `vscode`. Сервер VNC работает на порту `5901`, а веб-клиент доступен на порту `6080`.

## Быстрое начало - локально.

1. Установите Docker Desktop или Docker для Linux на локальной машине. Смотрите [документацию](https://aka.ms/vscode-remote/containers/getting-started) .

2. **Важно**: Для запуска полной сборки Docker требуется не менее **4 ядер и 6 ГБ оперативной памяти - рекомендуется 8 ГБ**. Если вы работаете на macOS или используете старый движок Hyper-V для Windows, обновите эти значения для Docker Desktop, щелкнув правой кнопкой мыши на элементе строки состояния Docker и перейдя к **Параметры/Настройки > Ресурсы > Дополнительно**.

    > **Внимание:** Расширение [Монитор ресурсов](https://marketplace.visualstudio.com/items?itemName=mutantdino.resourcemonitor) включено в контейнер, чтобы вы могли следить за процессором/памятью в строке состояния.

3. Установите [Студия Визуального Кода Стабильная](https://code.visualstudio.com/) или [Insiders](https://code.visualstudio.com/insiders/) и расширение [Удалённо - Контейнеры](https://aka.ms/vscode-remote/download/containers).

    ![Image of Remote - Containers extension](https://microsoft.github.io/vscode-remote-release/images/remote-containers-extn.png)

    > **Внимание:** Для расширения Удаленно - Контейнеры требуется дистрибутив Code - OSS для Студии Визуального Кода. Подробности смотрите на [Часто Задаваемые Вопросы](https://aka.ms/vscode-remote/faq/license) .

4. Нажмите <kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> или <kbd>F1</kbd> и выберите  ** Удаленно - Контейнеры: Клонировать храниище на том контейнера ...Remote-Containers: Clone Repository in Container Volume...**.

    > **Совет:** Хотя вместо этого можно использовать локальное дерево исходников, такие операции, как `yarn install`, могут быть медленными на macOS или при использовании механизма Hyper-V на Windows. Мы рекомендуем использовать подход "клонирование хранилища в контейнере", поскольку он использует "именованный том", а не локальную файловую систему.

5. Наберите `https://github.com/microsoft/vscode` (или branch или PR URL) в поле ввода и нажмите<kbd>Enter</kbd>.

6. После запуска контейнера откройте веб-браузер и перейдите в [http://localhost:6080](http://localhost:6080) или используйте [Просмотрщик VNC](https://www.realvnc.com/en/connect/download/viewer/) для подключения к `localhost:5901` и введите `vscode` как пароль.

Всё, что вы запускаете в Студии Визуального Кода или встроенном терминале, будет отображаться здесь.

Далее: **[Попробуйте!](#try-it)**

## Быстрый старт - Пространства кодов GitHub.

1. Из хранилища [microsoft/vscode GitHub](https://github.com/microsoft/vscode), нажмите на выпадающий список **Код**, выберите **Открыть с помощью кодовых пространств**, а затем нажмите **Новое кодовое пространство**. При появлении запроса выберите **Стандартный** размер машины - который также используется по умолчанию.

   > **Внимание:** Вы не увидите этих опций в GitHub, если вы не являетесь участником бета-версии Codespaces.

2. После того как кодовое пространство будет запущено в вашем браузере, нажмите кнопку <kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> или <kbd>F1</kbd> и выберите **Порты: фокус на виде портов**.

3. В списке портов вы должны увидеть **VNC web client (6080)**. Выберите строку и нажмите на значок глобуса, чтобы открыть её во вкладке браузера.

    > **Совет:** Если порт не отображается, <kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> или <kbd>F1</kbd>, выберите **Форсировать порт** и введите порт `6080`.

4. В новой вкладке вы должны увидеть noVNC. Нажмите **Подключиться** и введите `vscode` в качестве пароля.

Все, что вы запускаете в Студии Визуального Кода или встроенном терминале, будет отображаться здесь.

Далее: **[Попробуйте!](#try-it)**

### Использование Студии Визуального Кода с кодовыми пространствами GitHub.

Вы можете увидеть улучшенную реакцию VNC при доступе к кодовому пространству из клиента Студии Визуального Кода, так как вы можете использовать [VNC Viewer](https://www.realvnc.com/en/connect/download/viewer/). Вот как это сделать.

1.  Установите [Студию Визуального Кода Stable](https://code.visualstudio.com/) или [Insiders](https://code.visualstudio.com/insiders/) и [расширение GitHub Codespaces](https://marketplace.visualstudio.com/items?itemName=GitHub.codespaces).

	> **Внимание:** Для расширения GitHub Codespaces требуется дистрибутив Студии Визуального Кода - Code - OSS.

2. После того как Студия Визуального Кода будет запущена, нажмите кнопку <kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> или <kbd>F1</kbd>, выберите **Кодовые пространства: Создать новое кодовое пространство** и используйте следующие настройки:
    - `microsoft/vscode` для хранилища.
	- Выберите любую ветвь (например, **main**) - позже вы выберете другую.
	- Выберите размер **Standard** (4 ядра, 8 ГБ).

4. После подключения к кодовому пространству вы можете использовать функцию [VNC Viewer](https://www.realvnc.com/en/connect/download/viewer/) для подключения к `localhost:5901` и введите `vscode` в качестве пароля.

    > **Совет:** Вам также может понадобиться изменить настройку **Качество изображения** в клиенте VNC на **High**, чтобы получить полноцветный рабочий стол..

5. Все, что вы запускаете в Студии Визуального Кода или встроенном терминале, будет отображаться здесь.

Далее: **[Попробуйте!](#try-it)**

## Попробуйте!

Этот контейнер использует оконный менеджер [Fluxbox](http://fluxbox.org/) для упрощения работы. ** Щёлкните правой кнопкой мыши на рабочем столе **, чтобы увидеть параметры меню. Он работает с приложениями GNOME и GTK, поэтому при необходимости можно установить другие инструменты.

> **Внимание:** Вы также можете установить разрешение из командной строки, набрав `set-resolution`.

Чтобы начать работу с Code - OSS, выполните следующие шаги:

1. В локальном клиенте Студии Визуального Кода откройте терминал (<kbd>Ctrl/Cmd</kbd> + <kbd>Shift</kbd> + <kbd>\`</kbd>) и наберите следующие команды:

    ```bash
    yarn install
    bash scripts/code.sh
    ```

2. После завершения сборки откройте веб-браузер или программу [VNC Viewer](https://www.realvnc.com/en/connect/download/viewer/) для подключения к среде рабочего стола, как описано в кратком руководстве и введите `vscode` в качестве пароля.

3. Теперь вы должны увидеть Code - OSS!

Далее попробуем отладку.

1. Выключите Code - OSS, нажав на флажок в правом верхнем углу окна Code - OSS через браузер или программу просмотра VNC.

2. Перейдите в локальный клиент VS Code и используйте представление ** Запуск / Отладка **, чтобы запустить конфигурацию ** VS Code **. Обычно это значение по умолчанию, поэтому вы можете просто нажать <kbd>F5</kbd>.

    > **Внимание:** Если запуск происходит с перебоями, вы можете увеличить значение `timeout` в конфигурациях "VS Code", "Attach Main Process", "Attach Extension Host" и "Attach to Shared Process" в [launch.json](../.vscode/launch.json). Однако, запуск `scripts/code.sh` сначала настроит Electron, что обычно решает проблемы с таймаутом.

3. Через некоторое время появится Code - OSS с подключенным отладчиком!

Наслаждайтесь!
